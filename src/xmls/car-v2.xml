<mujoco>
	<asset>
		<texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4" />
		<material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance=".2" />
	</asset>
	<default>
		<joint damping=".03" actuatorfrcrange="-10000 10000" stiffness="0.01" />
		<default class="wheel">
			<geom type="cylinder" size="0.4 0.1" rgba=".5 .5 1 1" />
		</default>

		<default class="slidersite">
			<site type="cylinder" size=".01 .015" rgba="1 0 0 1" />
		</default>

        <site size=".05" rgba="0 0 1 1" />

		<default class="cranksite">
			<site size=".012" rgba="0 0 1 1" />
		</default>

	</default>
	<worldbody>
		<light dir="0 0 -1" pos="0 0 1000" diffuse="1 1 1" />
		<geom type="plane" size="100 100 .01" material="grid" />
		<body name="car" pos="0 0 5">
			<freejoint />
			<light dir="1 0 0" pos="1.2 0 0.125" diffuse="1 1 1" />
			<geom name="chasis" type="box" size="1 0.5 0.25" />
			<body name="back axis" pos="-0.6 0 0">
				<joint name="back axis joint" type="hinge" axis="0 1 0" />
				<geom type="cylinder" size="0.05 0.5" rgba=".5 .5 1 1" zaxis="0 1 0" />
				<body name="left back wheel" pos="0 0.5 0" zaxis="0 1 0">
					<geom class="wheel" />
				</body>
				<body name="right back wheel" pos="0 -0.5 0" zaxis="0 1 0">
					<geom class="wheel" />
				</body>
			</body>

			<body name="front axis" pos="0.6 0 0">
				<geom type="cylinder" size="0.05 0.5" rgba=".5 .5 1 1" zaxis="0 1 0" />

                <body name="left part" pos="0.1 0.5 0">
                    <joint type="hinge" pos="-0.1 0 0" axis="0 0 1" limited="true" range="-30 30"/>
                    <geom type="cylinder" size="0.05 0.1" rgba=".5 .5 1 1"  zaxis="1 0 0"/>
                    <site name="left site" pos="0.1 0 0"/>
                    <body name="left front wheel" pos="0 0 0" zaxis="0 1 0">
                        <joint name="left front joint" type="hinge" />
                        <geom class="wheel" />
    
				    </body>

                </body>

                <body name="right part" pos="0.1 -0.5 0">
                    <joint type="hinge" pos="-0.1 0 0" axis="0 0 1" limited="true" range="-30 30"/>
                    <geom type="cylinder" size="0.05 0.1" rgba=".5 .5 1 1"  zaxis="1 0 0"/>
                    <site name="right site" pos="0.1 0 0"/>
                    <body name="right front wheel" pos="0 0 0" zaxis="0 1 0">
                        <joint name="right front joint" type="hinge" />
                        <geom class="wheel" />
    
				    </body>

                </body>

                <body name="wheel" pos="0.2 0 0">
                    <geom type="box" size="0.05 0.3 0.05"/>
                    <site name="wheel site left" pos="0 .3 0"/>
                    <site name="wheel site right" pos="0 -.3 0"/>
                    <joint name="wheel joint" type="slide" axis="0 1 0" actuatorfrcrange="-100000 100000"/>
                </body>

                <site name="cranksite" class="cranksite" pos=".2 0 0"/>


			</body>
		</body>
		<camera name="cam1" pos="-5 0 10" euler="0 -45 -90" fovy="90" mode="trackcom" target="car" />
	</worldbody>


	<tendon>
		<fixed name="forward">
			<joint joint="back axis joint" coef="1000" />
		</fixed>

        <fixed name="steer">
			<joint joint="wheel joint" coef="1000" />
		</fixed>

        <spatial name="left wheel tendon" limited="true" range="0.1999 0.2" width="0.02" stiffness="0">
            <site site="left site"/>
            <site site="wheel site left"/>
        </spatial>

        <spatial name="right wheel tendon" limited="true" range="0.1999 0.2" width="0.02" stiffness="0">
            <site site="right site"/>
            <site site="wheel site right"/>
        </spatial>

	</tendon>


	<actuator>
		<motor name="forward motor" tendon="forward" ctrlrange="-1 1" />
        <position name="steer" cranksite="cranksite" slidersite="wheel site left" cranklength="0.1"/>
	</actuator>

    <contact>
        <exclude body1="car" body2="left front wheel"/>
        <exclude body1="front axis" body2="left front wheel"/>

        <exclude body1="car" body2="right front wheel"/>
        <exclude body1="front axis" body2="right front wheel"/>

        <exclude body1="wheel" body2="car"/>
    </contact>
    
</mujoco>
